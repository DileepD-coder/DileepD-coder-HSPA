<!-- Main Container -->
<div class="container mt-4">
  <div class="row" *ngIf="property">
    <!-- Property Image Section -->
    <div class="col-md-4">
      <div class="card shadow-lg border-0 rounded-lg">
        <div class="card_img_wrapper position-relative">
          <img class="card-img-top rounded-top" 
               [src]="property.ImageUrl ? 'assets/Hou/' + property.ImageUrl : 'assets/images/house_image.jpg'" 
               alt="Property Image">
          <div class="property-type-badge">
            {{property.SellRent === 1 ? 'For Sale' : 'For Rent'}}
          </div>
        </div>
        <div class="card-body">
          <!-- Quick Property Details -->
          <div class="quick-details">
            <h5 class="text-primary mb-3">Quick Details</h5>
            <div class="detail-item mb-2">
              <i class="fas fa-home text-primary me-2"></i>
              <span>{{property.PType}}</span>
            </div>
            <div class="detail-item mb-2">
              <i class="fas fa-bed text-primary me-2"></i>
              <span>{{property.BHK}} BHK</span>
            </div>
            <div class="detail-item mb-2">
              <i class="fas fa-ruler-combined text-primary me-2"></i>
              <span>{{property.BuiltArea}} Sq Ft</span>
            </div>
            <div class="detail-item">
              <i class="fas fa-map-marker-alt text-primary me-2"></i>
              <span>{{property.City}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Property Details Section -->
    <div class="col-md-8">
      <div class="card shadow-lg border-0 rounded-lg">
        <div class="card-body">
          <!-- Basic Information -->
          <div class="row mb-4">
            <div class="col-12">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h2 class="text-primary fw-bold mb-0">{{property.Name}}</h2>
                <div class="action-buttons">
                  <button class="btn btn-outline-primary me-2" title="Like">
                    <i class="fas fa-heart"></i>
                    <span class="ms-1">Like</span>
                  </button>
                  <button class="btn btn-outline-success me-2" title="Save">
                    <i class="fas fa-bookmark"></i>
                    <span class="ms-1">Save</span>
                  </button>
                  <button class="btn btn-outline-info" title="Share">
                    <i class="fas fa-share-alt"></i>
                    <span class="ms-1">Share</span>
                  </button>
                </div>
              </div>
              <h4 class="text-success fw-bold mb-3">${{property.Price | number:'1.0-2'}}</h4>
              <div class="d-flex align-items-center text-muted mb-4">
                <i class="fas fa-map-marker-alt me-2"></i>
                <span>{{property.BHK}} BHK {{property.PType}} in {{property.City}}</span>
              </div>
            </div>
          </div>

          <!-- Tabset for Property Details -->
          <tabset>
            <!-- Overview Tab -->
            <tab heading="Overview">
              <div class="row mt-3">
                <div class="col-md-6">
                  <div class="feature-card p-3 rounded">
                    <h5 class="text-primary fw-bold mb-3">
                      <i class="fas fa-home me-2"></i>Property Features
                    </h5>
                    <ul class="list-unstyled">
                      <li class="mb-2">
                        <i class="fas fa-bed text-primary me-2"></i>
                        <span>{{property.BHK}} Bedrooms</span>
                      </li>
                      <li class="mb-2">
                        <i class="fas fa-ruler-combined text-primary me-2"></i>
                        <span>{{property.BuiltArea}} Sq Ft</span>
                      </li>
                      <li class="mb-2">
                        <i class="fas fa-building text-primary me-2"></i>
                        <span>Floor {{property.Floor || property.FloorNo || 'N/A'}} of {{property.TotalFloors || property.TotalFloor || 'N/A'}}</span>
                      </li>
                      <li class="mb-2">
                        <i class="fas fa-calendar text-primary me-2"></i>
                        <span>{{property.Age || property.AOP || 'N/A'}} Years Old</span>
                      </li>
                      <li class="mb-2" *ngIf="property.Bathrooms">
                        <i class="fas fa-bath text-primary me-2"></i>
                        <span>{{property.Bathrooms}} Bathrooms</span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="feature-card p-3 rounded">
                    <h5 class="text-primary fw-bold mb-3">
                      <i class="fas fa-info-circle me-2"></i>Additional Details
                    </h5>
                    <ul class="list-unstyled">
                      <li class="mb-2">
                        <i class="fas fa-couch text-primary me-2"></i>
                        <span>{{property.FType}}</span>
                      </li>
                      <li class="mb-2">
                        <i class="fas fa-check-circle text-primary me-2"></i>
                        <span>{{property.Posession || (property.RTM === 1 ? 'Ready to Move' : 'Under Construction')}}</span>
                      </li>
                      <li class="mb-2" *ngIf="property.Maintenance">
                        <i class="fas fa-wrench text-primary me-2"></i>
                        <span>Maintenance: ${{property.Maintenance}}/month</span>
                      </li>
                      <li class="mb-2" *ngIf="property.Security">
                        <i class="fas fa-shield-alt text-primary me-2"></i>
                        <span>{{property.Security === 1 ? '24/7 Security' : 'Basic Security'}}</span>
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="col-12 mt-3">
                  <div class="feature-card p-3 rounded">
                    <h5 class="text-primary fw-bold mb-3">
                      <i class="fas fa-align-left me-2"></i>Description
                    </h5>
                    <p class="mb-0">{{property.Description || 'No description available.'}}</p>
                  </div>
                </div>
              </div>
            </tab>

            <!-- Address Tab -->
            <tab heading="Address">
              <div class="row mt-3">
                <div class="col-12">
                  <div class="feature-card p-3 rounded">
                    <h5 class="text-primary fw-bold mb-3">
                      <i class="fas fa-map-marker-alt me-2"></i>Location Details
                    </h5>
                    <ul class="list-unstyled">
                      <li class="mb-2">
                        <i class="fas fa-home text-primary me-2"></i>
                        <span>{{property.Address}}</span>
                      </li>
                      <li class="mb-2" *ngIf="property.Landmark">
                        <i class="fas fa-map-pin text-primary me-2"></i>
                        <span>Landmark: {{property.Landmark}}</span>
                      </li>
                      <li class="mb-2">
                        <i class="fas fa-city text-primary me-2"></i>
                        <span>{{property.City}}</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </tab>

            <!-- Photo Tab -->
            <tab heading="Photo">
              <div class="row mt-3">
                <div class="col-12">
                  <div class="photo-gallery">
                    <div class="main-photo mb-3">
                      <img [src]="property.ImageUrl ? 'assets/Hou/' + property.ImageUrl : 'assets/images/house_image.jpg'" 
                           class="img-fluid rounded" 
                           alt="Property Image">
                    </div>
                    <!-- Add more photos here when available -->
                    <div class="text-center text-muted" *ngIf="!property.ImageUrl">
                      <i class="fas fa-camera me-2"></i>
                      No additional photos available
                    </div>
                  </div>
                </div>
              </div>
            </tab>

            <!-- Contact Tab -->
            <tab heading="Contact">
              <div class="row mt-3">
                <div class="col-12">
                  <div class="feature-card p-3 rounded">
                    <h5 class="text-primary fw-bold mb-3">
                      <i class="fas fa-phone me-2"></i>Contact Information
                    </h5>
                    <p>Please contact us to get more information about this property.</p>
                    <button class="btn btn-primary">
                      <i class="fas fa-phone me-2"></i>Contact Now
                    </button>
                  </div>
                </div>
              </div>
            </tab>
          </tabset>
        </div>
      </div>
    </div>
  </div>

  <!-- Add error handling -->
  <div class="row" *ngIf="!property">
    <div class="col-12">
      <p>Property not found or loading...</p>
    </div>
  </div>
</div>