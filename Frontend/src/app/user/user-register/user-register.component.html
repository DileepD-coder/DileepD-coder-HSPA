<!-- Background Video -->
<div class="bg-video-container">
  <video autoplay loop muted playsinline class="bg-video">
    <source src="assets/videos/registerpage.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="video-overlay"></div>
</div>

<!-- Register Card -->
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg rounded-lg border-0 p-4 animate-fade-in" 
           style="background: rgba(255, 255, 255, 0.95);">
        
        <!-- Card Header -->
        <div class="card-header text-center border-0 bg-transparent mb-4">
          <i class="fas fa-user-plus fa-3x text-success mb-3"></i>
          <h3 class="text-success mb-0">Create Account</h3>
          <p class="text-muted">Join HSPA to find your dream home</p>
        </div>

        <!-- Card Body -->
        <div class="card-body px-4">
          <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" [class.shake]="!registrationForm.valid">
            
            <!-- Name Fields Row -->
            <div class="row mb-4">
              <!-- First Name -->
              <div class="col-md-6 mb-3 mb-md-0">
                <div class="input-group">
                  <span class="input-group-text bg-light border-end-0">
                    <i class="fas fa-user text-success"></i>
                  </span>
                  <input type="text" 
                         formControlName="firstName" 
                         class="form-control border-start-0 ps-0" 
                         placeholder="First Name"
                         [class.is-invalid]="isFieldInvalid('firstName')">
                </div>
                <small class="text-danger" *ngIf="isFieldInvalid('firstName')">
                  Please provide first name
                </small>
              </div>

              <!-- Last Name -->
              <div class="col-md-6">
                <div class="input-group">
                  <span class="input-group-text bg-light border-end-0">
                    <i class="fas fa-user text-success"></i>
                  </span>
                  <input type="text" 
                         formControlName="lastName" 
                         class="form-control border-start-0 ps-0" 
                         placeholder="Last Name"
                         [class.is-invalid]="isFieldInvalid('lastName')">
                </div>
                <small class="text-danger" *ngIf="isFieldInvalid('lastName')">
                  Please provide last name
                </small>
              </div>
            </div>

            <!-- Email -->
            <div class="form-group mb-4">
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0">
                  <i class="fas fa-envelope text-success"></i>
                </span>
                <input type="email" 
                       formControlName="email" 
                       class="form-control border-start-0 ps-0" 
                       placeholder="Email"
                       [class.is-invalid]="isFieldInvalid('email')">
              </div>
              <small class="text-danger" *ngIf="isFieldInvalid('email')">
                <span *ngIf="email.errors?.['required']">Please provide email</span>
                <span *ngIf="email.errors?.['email']">Please provide valid email</span>
              </small>
            </div>

            <!-- Password -->
            <div class="form-group mb-4">
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0">
                  <i class="fas fa-lock text-success"></i>
                </span>
                <input type="password" 
                       formControlName="password" 
                       class="form-control border-start-0 ps-0" 
                       placeholder="Password"
                       [class.is-invalid]="isFieldInvalid('password')">
              </div>
              <small class="text-danger" *ngIf="isFieldInvalid('password')">
                <span *ngIf="password.errors?.['required']">Please provide password</span>
                <span *ngIf="password.errors?.['minlength']">Password should be at least 8 characters</span>
              </small>
            </div>

            <!-- Confirm Password -->
            <div class="form-group mb-4">
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0">
                  <i class="fas fa-lock text-success"></i>
                </span>
                <input type="password" 
                       formControlName="confirmPassword" 
                       class="form-control border-start-0 ps-0" 
                       placeholder="Confirm Password"
                       [class.is-invalid]="isFieldInvalid('confirmPassword')">
              </div>
              <small class="text-danger" *ngIf="isFieldInvalid('confirmPassword')">
                <span *ngIf="confirmPassword.errors?.['required']">Please confirm password</span>
                <span *ngIf="confirmPassword.errors?.['notmatched']">Password does not match</span>
              </small>
            </div>

            <!-- Mobile -->
            <div class="form-group mb-4">
              <div class="input-group">
                <span class="input-group-text bg-light border-end-0">
                  <i class="fas fa-mobile-alt text-success"></i>
                </span>
                <input type="text" 
                       formControlName="mobile" 
                       class="form-control border-start-0 ps-0" 
                       placeholder="Mobile"
                       [class.is-invalid]="isFieldInvalid('mobile')">
              </div>
              <small class="text-danger" *ngIf="isFieldInvalid('mobile')">
                Please provide mobile number
              </small>
            </div>

            <!-- Terms and Conditions -->
            <div class="form-check mb-4">
              <input type="checkbox" class="form-check-input" id="terms">
              <label class="form-check-label text-muted" for="terms">
                I agree to the <a href="#" class="text-success">Terms & Conditions</a>
              </label>
            </div>

            <!-- Submit Button -->
            <button [disabled]="!registrationForm.valid" 
                    type="submit" 
                    class="btn btn-success w-100 mb-3 py-2">
              <i class="fas fa-user-plus me-2"></i>Register
            </button>

            <!-- Login Link -->
            <div class="text-center mt-4">
              <p class="mb-0 text-muted">Already have an account? 
                <a routerLink="/login" class="text-success text-decoration-none">Login</a>
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
